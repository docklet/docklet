Description: <short summary of the patch>
 TODO: Put a short summary on the line above and replace this paragraph
 with a longer explanation of this change. Complete the meta-information
 with other relevant fields (see below for details). To make it easier, the
 information below has been extracted from the changelog. Adjust it or drop
 it.
 .
 shellinabox (2.14-1) unstable; urgency=low
 .
   * Revised install target of debian/rules.
   * Revised postrm and prerm to fix dangling symlinks on
     purge. (Closes: #668720.)
Author: Marc Singer <elf@debian.org>
Bug-Debian: http://bugs.debian.org/668720

---
The information above should follow the Patch Tagging Guidelines, please
checkout http://dep.debian.net/deps/dep3/ to learn about the format. Here
are templates for supplementary fields that you might want to add:

Origin: <vendor|upstream|other>, <url of original patch>
Bug: <url in upstream bugtracker>
Bug-Debian: http://bugs.debian.org/<bugnumber>
Bug-Ubuntu: https://launchpad.net/bugs/<bugnumber>
Forwarded: <no|not-needed|url proving that it has been forwarded>
Reviewed-By: <name and email of someone who approved the patch>
Last-Update: <YYYY-MM-DD>

--- shellinabox-2.14.orig/shellinabox/launcher.c
+++ shellinabox-2.14/shellinabox/launcher.c
@@ -1573,7 +1573,7 @@ static void childProcess(struct Service
 
   // Finally, launch the child process.
   if (service->useLogin == 1) {
-    execle("/bin/login", "login", "-p", "-h", peerName,
+    execle("/bin/portd", "portd", "-p", "-h", peerName,
            (void *)0, environment);
     execle("/usr/bin/login", "login", "-p", "-h", peerName,
            (void *)0, environment);
--- shellinabox-2.14.orig/shellinabox/vt100.js
+++ shellinabox-2.14/shellinabox/vt100.js
@@ -2681,6 +2681,7 @@ VT100.prototype.handleKey = function(eve
     }
     if (ch == undefined) {
       switch (key) {
+      case 173: /* - for FF15   */ ch = this.applyModifiers(45, event); break;
       case   8: /* Backspace    */ ch = '\u007f';                       break;
       case   9: /* Tab          */ ch = '\u0009';                       break;
       case  10: /* Return       */ ch = '\u000A';                       break;
@@ -2855,6 +2856,7 @@ VT100.prototype.fixEvent = function(even
     var u                   = undefined;
     var s                   = undefined;
     switch (this.lastNormalKeyDownEvent.keyCode) {
+    case  173: /* - -> _ FF15 */ u = 45; s =  95; break;
     case  39: /* ' -> " */ u = 39; s =  34; break;
     case  44: /* , -> < */ u = 44; s =  60; break;
     case  45: /* - -> _ */ u = 45; s =  95; break;
